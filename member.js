const membersData = [
   {
    name: "মোঃ আল-আমিন",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
   {
    name: "মোঃ সাজু ইসলাম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/DPK8J5Jv/member21.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ মমিনুর ইসলাম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/21WGXDVH/member20.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
   {
    name: "মোঃ মমিন ইসলাম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/MyMPR52p/member19.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ রাসেল বাবু",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/93bqng6L/member18.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ ফারুক হোসেন",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/DDyT2MLf/member17.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ সোহাগ বাবু",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/qYrLRpns/member16.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
   {
    name: "মোঃ রবিউল ইসলাম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/WpMj5QdP/member15.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মো শাকিল আহমেদ",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/PzcygGxm/member14.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ রাসেল আহমেদ",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/60dfCwSv/member13.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ মোজাম্মেল হক",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/HT34qPrR/member12.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
    {
    name: "ইশা হুজুর",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/BHbSPJrp/member11.jpg",
    email: "button@mobile.com",
    phone: "01773266062"
  },
  {
    name: "মোঃ সোহেল রানা",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/mVD4nw4D/member10.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ মোখলেছুর রহমান",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/Y7r88LV7/member9.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ আনিছুর রহমান",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/zV9gpfy4/member8.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ মাসুদ রানা",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/5gdqwFvd/member7.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ শেখসাদী আলম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/Df5GhcrX/member6.png",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ ইব্রাহীম খলিল",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/nM4mLcGM/member5.jpg",
    email: "nur@example.com",
    phone: "01738090506",
  },
  {
    name: "মোঃ বেলাল হোসেন",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/CLxdkfS/member4.png",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোঃ জাহিদুল ইসলাম (মিন্টু)",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/9kz2bSw7/member3.jpg",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "হাফেজ মোঃ নুর আলম",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/svgf1zhS/member2.png",
    email: "nur@example.com",
    phone: "019xxxxxxxx"
  },
  {
    name: "মোহাম্মদ মাসুদ রানা",
    type: "core",
    bio: "প্রতিষ্ঠাতা সদস্য",
    image: "https://i.ibb.co/m5N24QH5/20250708-065807.png",
    email: "masudrana.xos.7.6@gmail.com",
    phone: "01972151775"
  },
  
  // আরও সদস্য যুক্ত করো...
];

const membersGrid = document.getElementById("membersGrid");
const currentPageSpan = document.getElementById("currentPage");
const filterSelect = document.getElementById("filterType");
const sortSelect = document.getElementById("sortBy");

let currentPage = 1;
const membersPerPage = 10;
let filteredMembers = [...membersData];

// টাইপকে বাংলায় কনভার্ট করার ফাংশন
function getTypeLabel(type) {
  switch (type) {
    case "core":
      return "মূল সদস্য";
    case "active":
      return "সক্রিয় সদস্য";
    case "volunteer":
      return "স্বেচ্ছাসেবক";
    default:
      return "";
  }
}

// ফিল্টার ও সর্ট প্রয়োগ
function applyFiltersAndSort() {
  const selectedType = filterSelect.value;
  const selectedSort = sortSelect.value;

  // ফিল্টার
  if (selectedType === "all") {
    filteredMembers = [...membersData];
  } else {
    filteredMembers = membersData.filter(member => member.type === selectedType);
  }

  // সর্ট
  if (selectedSort === "name") {
    filteredMembers.sort((a, b) => a.name.localeCompare(b.name, 'bn'));
  } else if (selectedSort === "newest") {
    filteredMembers = [...filteredMembers].reverse(); // assuming newest last added
  }

  currentPage = 1;
  renderMembers();
}

// সদস্য রেন্ডার করা
function renderMembers() {
  const start = (currentPage - 1) * membersPerPage;
  const end = start + membersPerPage;
  const paginated = filteredMembers.slice(start, end);

  membersGrid.innerHTML = "";

  if (paginated.length === 0) {
    membersGrid.innerHTML = "<p style='text-align:center;'>কোন সদস্য পাওয়া যায়নি।</p>";
    return;
  }

  paginated.forEach((member, index) => {
    const serial = start + index + 1; // সিরিয়াল নাম্বার গণনা (১ থেকে শুরু)

    const memberTypeLabel = getTypeLabel(member.type);

    const card = document.createElement("div");
    card.className = "member-card";
    card.innerHTML = `
      <h4>${serial}. ${member.name}</h4>
      <img src="${member.image}" alt="${member.name}">
      <p>${member.bio}</p>
      <p><strong>${memberTypeLabel}</strong></p>
    `;
    card.onclick = () => showMemberPopup(member);
    membersGrid.appendChild(card);
  });

  updatePaginationDisplay();
}

// পেজিনেশন আপডেট
function updatePaginationDisplay() {
  const totalPages = Math.ceil(filteredMembers.length / membersPerPage);
  document.getElementById("currentPage").innerText = currentPage;

  document.querySelector(".page-btn[onclick='prevPage()']").disabled = currentPage === 1;
  document.querySelector(".page-btn[onclick='nextPage()']").disabled = currentPage === totalPages || totalPages === 0;
}

// পূর্ববর্তী পেজ
function prevPage() {
  if (currentPage > 1) {
    currentPage--;
    renderMembers();
  }
}

// পরবর্তী পেজ
function nextPage() {
  const totalPages = Math.ceil(filteredMembers.length / membersPerPage);
  if (currentPage < totalPages) {
    currentPage++;
    renderMembers();
  }
}

// মেম্বার পপআপ
function showMemberPopup(member) {
  const modal = document.getElementById("memberModal");
  const content = document.getElementById("modalContent");

  content.innerHTML = `
    <span class="close" onclick="closeModal()">&times;</span>
    <img src="${member.image}" alt="${member.name}">
    <h3>${member.name}</h3>
    <p>${member.bio}</p>
    <p><strong>সদস্য ধরন:</strong> ${getTypeLabel(member.type)}</p>
    <p><strong>ইমেইল:</strong> ${member.email}</p>
    <p><strong>ফোন:</strong> ${member.phone}</p>
  `;

  modal.classList.remove("hidden");
}

// পপআপ বন্ধ
function closeModal() {
  document.getElementById("memberModal").classList.add("hidden");
}

// ইভেন্ট লিসেনার
filterSelect.addEventListener("change", applyFiltersAndSort);
sortSelect.addEventListener("change", applyFiltersAndSort);

// শুরুতে চালাও
applyFiltersAndSort();